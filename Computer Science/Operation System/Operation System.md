# 운영체제 질문 리스트

### 참고 자료
- [운영체제](<https://github.com/kim6394/Dev_BasicKnowledge/blob/master/Interview/Interview List.md#운영체제>)
- [교재] 이것이 컴퓨터 과학이다, 면접을 위한 CS 전공지식 노트

### 운영체제
#### 운영체제의 주요 역할은 무엇인가요?
> 운영체제의 주요 역할로는 프로세스 및 스레드 관리와 자원 할당 및 관리가 있습니다.

#### 프로세스와 스레드에 대해 설명해 주세요.
> 소프트웨어에서 프로세스란 실행 중인 프로그램을 의미합니다. 스레드란 프로세스를 이루는 실행의 단위로 프로세스에 할당된 자원을 서로 공유합니다.

#### 프로세스의 유형으로는 어떤 것이 있나요?
> 프로세스의 유형으로는 사용자에게 보이는 곳에서 사용자와 상호작용하며 실행되는 포그라운드 프로세스``foreground process``와 사용자에게 보이지 않는 곳에서 실행되는 백그라운드 프로세스``backgroung process``가 있으며, 백그라운드 프로세스 중 사용자와 별다른 상호작용을 하지 않고, 주어진 작업만을 수행하는 프로세스를 데몬``daemon``이라 합니다.

#### 시스템 콜과 소프트웨어 인터럽트에 대해 설명해 주세요.
> 시스템 콜은 응용 프로그램의 요청에 따라 커널에 접근하기 위한 인터페이스입니다. <br/>
> 응용 프로그램의 기능을 구현하기 위해 유저 레벨의 함수만으로는 힘들기 때문에, 커널의 도움을 받아야 하며 커널의 작업은 유저 모드(User mode)에서는 실행할 수 없습니다. <br/>
> 커널 모드(Kernel mode)로 전환한 후 작업을 수행할 권한이 생기며, 커널 모드를 통한 작업은 "시스템 콜"을 통해 수행하도록 설계되어 있습니다.

> 소프트웨어 인터럽트는 응용프로그램에서 시스템 콜을 호출 시 발생합니다. <br/>
> 응용프로그램에서 시스템 콜을 호출하면 CPU는 하던 작업을 백업하고 커널 영역 내의 인터럽트를 처리하기 위한 코드를 실행합니다. <br/>
> 작업이 완료되면 시스템 콜 이전에 수행 중이던 사용자 영역의 코드를 다시 수행합니다.

#### 운영체제가 메모리를 효율적으로 관리하기 위한 기법은 무엇인가요?
> 가상 메모리는 운영체제의 메모리 관리 기법 중 하나로, 실제 물리적인 메모리 크기보다 더 큰 메모리를 이용할 수 있도록 하는 기술입니다. 예를 들어, 응용 프로그램이 필요한 메모리 용량이 실제 물리 메모리(RAM)보다 클 경우에도 운영체제는 ``디스크의 일부를 가상 메모리로 활용``하여 프로그램이 실행되도록 지원합니다. 이를 통해 메모리 부족 문제를 완화하고 다수의 프로그램을 동시에 실행할 수 있습니다. 운영체제가 메모리를 효율적으로 관리하기 위해 사용하는 주요 기법으로는 페이징``paging``이 있습니다.

#### 세그멘테이션과 페이징의 차이?
> 세그멘테이션은 가상 메모리를 서로 크기가 다른 `논리적 단위`로 분할한 것을 의미합니다.

> 페이징은 프로세스를 `일정한 크기의 페이지`로 분할해서 메모리에 적재하는 방식을 의미합니다.

> 둘의 차이는 `프로그램을 분할하는 방식`입니다. 페이징의 경우 프로그램을 같은 크기의 페이지로 분할하는 데에 비해, 세그멘테이션은 논리적 의미를 기준으로 세그먼트를 분할합니다.

#### LRU와 LFU의 차이?
> LRU와 LFU 둘 다 페이징 교체 알고리즘입니다.
>
> `LRU(Least Recently Used)` 알고리즘은 가장 오랫동안 참조되지 않은 페이지를 교체합니다.
>
> `LFU(Least Frequently Used)` 알고리즘은 참조 횟수가 가장 적은 페이지를 교체하는 알고리즘입니다.

#### test_and_set 함수에 대해 설명해주세요
> `test_and_set 함수` 는 동시성 제어 및 병렬 프로그래밍에서 자주 사용되는 원자적(atomic) 연산입니다.
>
> 주요 목적으로는 상호 배제(mutual exclusion)를 보장하여 여러 스레드나 프로세스가 동시에 공유 자원에 접근하지 못하도록 합니다.
>
> 많은 현대 프로세서에서 test_and_set 연산은 하드웨어 명령어로 지원됩니다.

#### DMA(Direct Memory Access)
> DMA는 **CPU의 개입 없이 I/O 장치가 메모리에 직접 접근하여 데이터를 전송**할 수 있게 하는 메모리 접근 방식이다. 
>
> 1. 고속 데이터 전송
> CPU를 경유하지 않고 I/O 장치와 메모리간 데이터 전송을 직접 수행하므로 **더 빠르게 데이터를 처리**할 수 있다.
> 2. I/O 작업 효율화
> CPU가 다른 작업을 수행하는 동안에도 **I/O 작업이 비동기적으로 수행**된다.
> 3. 하드웨어 기반 작업
> DMA 컨트롤러(하드웨어)가 **메모리와 I/O 장치 간 데이터 전송을 관리**한다.

#### 페이지 폴트가 발생했을 때 OS가 수행하는 과정에 대해 설명해주세요.
> 페이지 폴트(page fault)는 **물리 메모리에 존재하지 않는 페이지에 접근하는 것**을 의미한다.
>
> 페이지 폴트가 발생하면, 이를 처리하기 위해 운영체제로 제어권이 넘어가고 **페이지 폴트 핸들러가 실행**된다.
>
> 이때 물리 메모리가 **가득 차 있는 상태라면 페이지 교체가 발생**하고, 물리 메모리에 **여유 공간이 있는 상태라면 물리 메모리에 빈 프레임에 탑재**한다.
> 
> 페이지 테이블 항목(PTE)에서 해당 페이지의 디스크 상 위치를 파악하고 메모리로 탑재한다. (디스크 I/O 발생)
>
> 디스크 I/O가 완료되면, 페이지 테이블 항목의 페이지 프레임 번호(PFN) 값을 **탑재한 페이지의 메모리 위치로 갱신**한다.
>
> PTE 갱신 작업이 완료되면, **페이지 폴트를 발생시킨 명령어가 재실행** 된다. (재실행 1회)
>
> 명령어 재실행으로 인해 TLB 미스가 발생할 수 있고, TLB 미스 처리 과정에서 **TLB 값이 갱신**된다.
>
> TLB 갱신 작업이 완료되면, TLB 미스를 발생시킨 명령어가 재실행된다. (재실행 2회)

#### 뮤텍스와 세마포어에 대해서 설명해주세요
> 뮤텍스와 세마포어는 동기화 메커니즘으로, **멀티 쓰레드 환경에서 경쟁 상태(race condition)를 방지**하기 위해서 사용된다.
>
> 뮤텍스(Mutex, Mutual Exclusion)는 **하나의 쓰레드만 공유 자원에 접근**할 수 있도록 보장한다.
>
> 자원을 사용하려는 쓰레드는 뮤텍스를 잠금 상태로 전환하고, 사용이 끝난 후 잠금을 해제하는 방식으로 동작한다.
>
> 세마포어(Semaphore)는 **여러 쓰레드가 공유 자원에 접근**할 수 있도록 **허용 가능한 최대 쓰레드 수**를 제한한다.
>
> 카운터를 통해 현재 접근 가능한 자원의 개수를 추적한다. 
>
> 쓰레드가 자원을 사용하려고 하면 세마포어의 카운터 값을 감소시키고 자원 사용을 마치면 카운터 값을 증가시킨다.